Vagrant.configure(2) do |config|

  config.vm.box = "box-cutter/ubuntu1404-desktop"

  config.vm.box_check_update = false 

  config.vm.provider "virtualbox" do |vb| 

    vb.gui = true  

    vb.memory = "4096"
  
    vb.name = "FSE-2013-aPET1"

  end


config.vm.provision "shell", inline: <<-SHELL


  mkdir "/home/vagrant/scripts"
  mkdir "/home/vagrant/.config/autostart"

  # Disable screen lock
  echo "get the screenlock :++++++"
  wget -O "/home/vagrant/scripts/screenlock.sh" https://github.com/SoftwareEngineeringToolDemos/FSE-2013-aPET/raw/master/build-vm/vm-contents/screenlock.sh
  wget -O "/home/vagrant/.config/autostart/screenlock.desktop" https://github.com/SoftwareEngineeringToolDemos/FSE-2013-aPET/raw/master/build-vm/vm-contents/screenlock.desktop 
  # chmod -R a+rwx "/home/vagrant/scripts/"
  # cp /usr/share/applications/screenlock.desktop /home/vagrant/.config/autostart/
  # chmod 777 screenlock.desktop
  # update-desktop-database
  
  # Reboot the VM
  # echo "Now going to reboot .......+++++++ "
  # echo "\n\n\n\n\n\n\n"
  # echo "Now going to reboot .......+++++++ "

  #Last Update
  # apt-get update

  # sleep 1000
  # reboot

  SHELL
end
